# Phase 3 Plan: UI ê°œë°œ ë° AI í†µí•©

## ğŸ“‹ ê°œìš”
**ëª©í‘œ:** AI í”¼ë“œë°± ì‹œìŠ¤í…œì„ í•™ìƒ ì•±ê³¼ í”Œë˜ë„ˆ ì›¹ì•± UIì— í†µí•©í•˜ì—¬ ì™„ì „í•œ AI ê¸°ë°˜ ì˜ì–´ í•™ìŠµ í”Œë«í¼ ì™„ì„±

**ê¸°ê°„:** 2026-01-02 ~ 2026-01-10 (ì˜ˆìƒ 8ì¼)

**ì „ì œì¡°ê±´:** 
- âœ… Phase 1 ì™„ë£Œ (ê¸°ë³¸ ì¸í”„ë¼)
- âœ… Phase 2 ì™„ë£Œ (AI ì¸í”„ë¼)
- âœ… Edge Function ë°°í¬ ì™„ë£Œ: `https://ybcjkdcdruquqrdahtga.supabase.co/functions/v1/audio-processor`

## ğŸ¯ Phase 3 ëª©í‘œ

### 1. í•™ìƒ ì•± AI í†µí•© (ìš°ì„ ìˆœìœ„: ë†’ìŒ)
**ëª©í‘œ:** í•™ìƒì´ ìŒì„±ì„ ë…¹ìŒí•˜ê³  AI í”¼ë“œë°±ì„ ë°›ì„ ìˆ˜ ìˆëŠ” ì™„ì „í•œ ì›Œí¬í”Œë¡œìš° êµ¬í˜„

#### 1.1 ìŒì„± ë…¹ìŒ â†’ AI ë¶„ì„ íŒŒì´í”„ë¼ì¸
- [ ] ê¸°ì¡´ AudioRecorder ì»´í¬ë„ŒíŠ¸ í™•ì¥
- [ ] ë…¹ìŒëœ ì˜¤ë””ì˜¤ â†’ Supabase Storage ì—…ë¡œë“œ
- [ ] Storage URL â†’ Edge Function í˜¸ì¶œ
- [ ] AI ì‘ë‹µ ì²˜ë¦¬ ë° ì €ì¥

#### 1.2 AI í”¼ë“œë°± UI êµ¬í˜„
- [ ] ë°œìŒ ì ìˆ˜ ì‹œê°í™” (0-100 ì ìˆ˜)
- [ ] êµì • ì œì•ˆ ëª©ë¡ í‘œì‹œ
- [ ] ë” ë‚˜ì€ í‘œí˜„ ì œì•ˆ
- [ ] ê¸ì •ì  í”¼ë“œë°± ë° ê°œì„ ì‚¬í•­ í‘œì‹œ

#### 1.3 í”¼ë“œë°± íˆìŠ¤í† ë¦¬ ê¸°ëŠ¥
- [ ] ê³¼ê±° í”¼ë“œë°± ì¡°íšŒ
- [ ] ì§„ë„ ì¶”ì  ì°¨íŠ¸
- [ ] ê°œì„  ë™í–¥ ë¶„ì„

### 2. í”Œë˜ë„ˆ ì›¹ì•± AI ëŒ€ì‹œë³´ë“œ (ìš°ì„ ìˆœìœ„: ì¤‘ê°„)
**ëª©í‘œ:** ê°•ì‚¬ê°€ í•™ìƒë“¤ì˜ AI í”¼ë“œë°±ì„ ëª¨ë‹ˆí„°ë§í•˜ê³  ë¶„ì„í•  ìˆ˜ ìˆëŠ” ëŒ€ì‹œë³´ë“œ êµ¬í˜„

#### 2.1 AI í”¼ë“œë°± ê´€ë¦¬ ì‹œìŠ¤í…œ
- [ ] ì „ì²´ í•™ìƒ AI í”¼ë“œë°± ì¡°íšŒ
- [ ] í•™ìƒë³„ ìƒì„¸ ë¶„ì„ í˜ì´ì§€
- [ ] í”¼ë“œë°± í•„í„°ë§ ë° ê²€ìƒ‰

#### 2.2 ë°ì´í„° ì‹œê°í™”
- [ ] í•™ìƒë³„ ë°œìŒ ì§„ë„ ì°¨íŠ¸
- [ ] ì „ì²´ í•™ê¸‰ ì„±ê³¼ ëŒ€ì‹œë³´ë“œ
- [ ] ìì£¼ í‹€ë¦¬ëŠ” íŒ¨í„´ ë¶„ì„

#### 2.3 ê°•ì‚¬ ë„êµ¬
- [ ] AI í”¼ë“œë°±ì— ì¶”ê°€ ì½”ë©˜íŠ¸ ê¸°ëŠ¥
- [ ] í•™ìŠµ ê³„íš ìˆ˜ì • ì œì•ˆ
- [ ] ê°œë³„ í•™ìŠµ ëª©í‘œ ì„¤ì •

### 3. ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ í™•ì¥
**ëª©í‘œ:** AI í”¼ë“œë°± ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì €ì¥í•˜ê³  ì¡°íšŒí•  ìˆ˜ ìˆëŠ” êµ¬ì¡° êµ¬ì¶•

#### 3.1 ìƒˆë¡œìš´ í…Œì´ë¸” ì¶”ê°€
```sql
-- AI í”¼ë“œë°± ê²°ê³¼ ì €ì¥
CREATE TABLE ai_feedback (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  homework_submission_id UUID REFERENCES homework_submissions(id),
  student_id UUID REFERENCES students(id),
  transcript TEXT,
  score INTEGER CHECK (score >= 0 AND score <= 100),
  corrections JSONB,
  better_expressions JSONB,
  positive_feedback TEXT,
  areas_for_improvement TEXT,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- AI ë¶„ì„ ì„¸ì…˜ ê´€ë¦¬
CREATE TABLE ai_sessions (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  student_id UUID REFERENCES students(id),
  session_date DATE DEFAULT CURRENT_DATE,
  total_submissions INTEGER DEFAULT 0,
  average_score DECIMAL(5,2),
  improvement_trend TEXT,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

#### 3.2 ê¸°ì¡´ í…Œì´ë¸” í™•ì¥
- [ ] homework_submissions í…Œì´ë¸”ì— ai_processed í”Œë˜ê·¸ ì¶”ê°€
- [ ] audio_file_url ì»¬ëŸ¼ ì¶”ê°€
- [ ] processing_status ì»¬ëŸ¼ ì¶”ê°€ (pending/processing/completed/failed)

## ğŸ›  ê¸°ìˆ  êµ¬í˜„ ê³„íš

### í•™ìƒ ì•± (React Native + Expo)
```typescript
// AI í”¼ë“œë°± ì²˜ë¦¬ ì„œë¹„ìŠ¤
export const aiService = {
  // ìŒì„± íŒŒì¼ ì—…ë¡œë“œ ë° AI ë¶„ì„ ìš”ì²­
  async processAudioSubmission(audioUri: string, homeworkId: string): Promise<AIFeedback> {
    // 1. Storageì— ì˜¤ë””ì˜¤ íŒŒì¼ ì—…ë¡œë“œ
    const fileUrl = await uploadAudioToStorage(audioUri);
    
    // 2. Edge Function í˜¸ì¶œ
    const response = await supabase.functions.invoke('audio-processor', {
      body: { 
        submissionId: homeworkId,
        fileUrl: fileUrl 
      }
    });
    
    // 3. ê²°ê³¼ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥
    await saveAIFeedback(response.data);
    
    return response.data;
  }
};

// AI í”¼ë“œë°± í‘œì‹œ ì»´í¬ë„ŒíŠ¸
const AIFeedbackScreen = ({ feedbackId }: { feedbackId: string }) => {
  const [feedback, setFeedback] = useState<AIFeedback | null>(null);
  
  return (
    <ScrollView>
      <ScoreCircle score={feedback?.score} />
      <CorrectionsList corrections={feedback?.corrections} />
      <BetterExpressions expressions={feedback?.better_expressions} />
      <FeedbackText positive={feedback?.positive_feedback} />
      <ImprovementAreas areas={feedback?.areas_for_improvement} />
    </ScrollView>
  );
};
```

### í”Œë˜ë„ˆ ì›¹ì•± (Next.js)
```typescript
// AI ëŒ€ì‹œë³´ë“œ í˜ì´ì§€
// app/dashboard/ai-feedback/page.tsx
export default async function AIFeedbackDashboard() {
  const feedback = await getStudentAIFeedback();
  
  return (
    <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
      <StudentProgressChart data={feedback} />
      <ClassOverviewStats stats={calculateClassStats(feedback)} />
      <RecentFeedbackTable feedback={feedback} />
      <TrendAnalysisChart data={feedback} />
    </div>
  );
}

// í•™ìƒë³„ ìƒì„¸ ë¶„ì„ í˜ì´ì§€
// app/dashboard/students/[id]/ai-analysis/page.tsx
export default async function StudentAIAnalysis({ params }: { params: { id: string } }) {
  const student = await getStudentById(params.id);
  const aiHistory = await getStudentAIHistory(params.id);
  
  return (
    <div>
      <StudentHeader student={student} />
      <ProgressTimeline history={aiHistory} />
      <DetailedAnalytics analytics={calculateDetailedAnalytics(aiHistory)} />
      <TeacherComments studentId={params.id} />
    </div>
  );
}
```

## ğŸ“Š ì„±ê³µ ì§€í‘œ

### ê¸°ëŠ¥ì  ì„±ê³µ ì§€í‘œ
- [ ] í•™ìƒì´ ìŒì„±ì„ ë…¹ìŒí•˜ê³  AI í”¼ë“œë°±ì„ ë°›ì„ ìˆ˜ ìˆìŒ
- [ ] AI í”¼ë“œë°±ì´ 1ë¶„ ì´ë‚´ì— ìƒì„±ë¨
- [ ] í”Œë˜ë„ˆì—ì„œ ëª¨ë“  í•™ìƒì˜ AI ë¶„ì„ ê²°ê³¼ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆìŒ
- [ ] ë°ì´í„° ì‹œê°í™”ê°€ ì •í™•í•˜ê²Œ í‘œì‹œë¨

### ê¸°ìˆ ì  ì„±ê³µ ì§€í‘œ
- [ ] Edge Function í˜¸ì¶œ ì„±ê³µë¥  95% ì´ìƒ
- [ ] ì˜¤ë””ì˜¤ íŒŒì¼ ì—…ë¡œë“œ ì„±ê³µë¥  98% ì´ìƒ
- [ ] í˜ì´ì§€ ë¡œë”© ì‹œê°„ 3ì´ˆ ì´ë‚´
- [ ] ëª¨ë°”ì¼ ì•± ë°˜ì‘ì„± í™•ë³´

### ì‚¬ìš©ì ê²½í—˜ ì„±ê³µ ì§€í‘œ
- [ ] ì§ê´€ì ì¸ UI/UX (ì‚¬ìš©ì í…ŒìŠ¤íŠ¸ í†µê³¼)
- [ ] ì˜¤ë¥˜ ì²˜ë¦¬ ë° ë¡œë”© ìƒíƒœ ëª…í™•íˆ í‘œì‹œ
- [ ] ì ‘ê·¼ì„± ê¸°ì¤€ ì¶©ì¡±

## â± ì¼ì • ê³„íš

### Week 1 (2026-01-02 ~ 2026-01-05)
**Day 1-2: í•™ìƒ ì•± AI í†µí•© ê¸°ì´ˆ**
- [ ] ì˜¤ë””ì˜¤ ì—…ë¡œë“œ â†’ Edge Function íŒŒì´í”„ë¼ì¸ êµ¬í˜„
- [ ] AI í”¼ë“œë°± ë°ì´í„° ëª¨ë¸ ì •ì˜
- [ ] ê¸°ë³¸ í”¼ë“œë°± í‘œì‹œ UI êµ¬í˜„

**Day 3-4: í•™ìƒ ì•± AI UI ì™„ì„±**
- [ ] ì ìˆ˜ ì‹œê°í™” ì»´í¬ë„ŒíŠ¸
- [ ] ìƒì„¸ í”¼ë“œë°± í™”ë©´
- [ ] íˆìŠ¤í† ë¦¬ ê¸°ëŠ¥

### Week 2 (2026-01-06 ~ 2026-01-10)  
**Day 5-6: í”Œë˜ë„ˆ ì›¹ì•± AI ëŒ€ì‹œë³´ë“œ**
- [ ] AI í”¼ë“œë°± ê´€ë¦¬ í˜ì´ì§€
- [ ] í•™ìƒë³„ ìƒì„¸ ë¶„ì„ í˜ì´ì§€
- [ ] ë°ì´í„° ì‹œê°í™” ì°¨íŠ¸

**Day 7-8: í…ŒìŠ¤íŠ¸ ë° ìµœì í™”**
- [ ] ì „ì²´ ì‹œìŠ¤í…œ í†µí•© í…ŒìŠ¤íŠ¸
- [ ] ì„±ëŠ¥ ìµœì í™”
- [ ] ë²„ê·¸ ìˆ˜ì • ë° UI/UX ê°œì„ 

## ğŸ”§ í•„ìš”í•œ ë„êµ¬ ë° ë¼ì´ë¸ŒëŸ¬ë¦¬

### í•™ìƒ ì•± (React Native)
```bash
# ì°¨íŠ¸ ë° ì‹œê°í™”
npm install react-native-chart-kit react-native-svg

# ì˜¤ë””ì˜¤ ì²˜ë¦¬
npm install expo-av expo-file-system

# ì• ë‹ˆë©”ì´ì…˜
npm install react-native-reanimated
```

### í”Œë˜ë„ˆ ì›¹ì•± (Next.js)
```bash
# ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬
npm install recharts @tremor/react

# ë°ì´í„° í…Œì´ë¸”
npm install @tanstack/react-table

# ë‚ ì§œ ì²˜ë¦¬
npm install date-fns
```

## ğŸš¨ ë¦¬ìŠ¤í¬ ë° ëŒ€ì‘ ë°©ì•ˆ

### ê¸°ìˆ ì  ë¦¬ìŠ¤í¬
1. **Edge Function í˜¸ì¶œ ì‹¤íŒ¨**
   - ëŒ€ì‘: ì¬ì‹œë„ ë¡œì§ ë° ì˜¤ë¥˜ ì²˜ë¦¬ ê°•í™”
   - ë°±ì—…: í´ë¼ì´ì–¸íŠ¸ ì¸¡ ê¸°ë³¸ í”¼ë“œë°± ì œê³µ

2. **ì˜¤ë””ì˜¤ íŒŒì¼ í¬ê¸° ì œí•œ**
   - ëŒ€ì‘: í´ë¼ì´ì–¸íŠ¸ ì¸¡ ì••ì¶• ë° ìµœì í™”
   - ë°±ì—…: íŒŒì¼ ë¶„í•  ì—…ë¡œë“œ

3. **AI API ì‚¬ìš©ëŸ‰ í•œê³„**
   - ëŒ€ì‘: ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ
   - ë°±ì—…: ì‚¬ìš©ëŸ‰ ì œí•œ ë° ì•Œë¦¼

### ì‚¬ìš©ì ê²½í—˜ ë¦¬ìŠ¤í¬
1. **ëŠë¦° AI ì‘ë‹µ ì‹œê°„**
   - ëŒ€ì‘: ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ ë° ì§„í–‰ë¥  í‘œì‹œ
   - ë°±ì—…: ë°±ê·¸ë¼ìš´ë“œ ì²˜ë¦¬ ë° ì•Œë¦¼

2. **ë³µì¡í•œ UI**
   - ëŒ€ì‘: ì‚¬ìš©ì í…ŒìŠ¤íŠ¸ ë° í”¼ë“œë°± ë°˜ì˜
   - ë°±ì—…: ë‹¨ê³„ë³„ ì˜¨ë³´ë”© ê°€ì´ë“œ

## ğŸ“š ì°¸ê³  ë¬¸ì„œ

- [Phase 2 Progress Report](./PHASE_2_PROGRESS.md)
- [Edge Function Deployment Guide](./EDGE_FUNCTION_DEPLOYMENT.md)
- [Supabase Storage Documentation](https://supabase.com/docs/guides/storage)
- [React Native Chart Kit](https://github.com/indiespirit/react-native-chart-kit)
- [Recharts Documentation](https://recharts.org/)

---

**ë‹¤ìŒ ë‹¨ê³„**: Phase 3 ê°œë°œ ì‹œì‘ - í•™ìƒ ì•± AI í†µí•©ë¶€í„° ì‹œì‘

*ìƒì„±ì¼: 2026-01-02*
*ë‹´ë‹¹: Claude Code*