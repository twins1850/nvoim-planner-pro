-- 회사 기본 가격 데이터 삽입
-- 20분, 25분, 50분 수업 원단가 및 프리미엄 과정
-- planner_id = NULL: 회사 기본 가격

-- 회사 기본 원단가 (planner_id = NULL)
INSERT INTO public.pricing_templates
    (planner_id, frequency, duration, payment_period, total_lessons, base_price, is_active)
VALUES
    -- 20분 수업 원단가
    (NULL, '주1회', '20분', '1개월', 4, 64000, true),
    (NULL, '주2회', '20분', '1개월', 8, 120000, true),
    (NULL, '주3회', '20분', '1개월', 12, 179000, true),
    (NULL, '주5회', '20분', '1개월', 20, 298000, true),
    (NULL, '주2회', '20분', '3개월', 24, 345000, true),
    (NULL, '주3회', '20분', '3개월', 36, 510000, true),
    (NULL, '주5회', '20분', '3개월', 60, 847000, true),

    -- 25분 수업 원단가
    (NULL, '주1회', '25분', '1개월', 4, 76000, true),
    (NULL, '주2회', '25분', '1개월', 8, 145000, true),
    (NULL, '주3회', '25분', '1개월', 12, 213000, true),
    (NULL, '주5회', '25분', '1개월', 20, 354000, true),
    (NULL, '주6회', '25분', '1개월', 24, 422000, true),
    (NULL, '주2회', '25분', '3개월', 24, 422000, true),
    (NULL, '주3회', '25분', '3개월', 36, 609000, true),
    (NULL, '주5회', '25분', '3개월', 60, 1008000, true),
    (NULL, '주6회', '25분', '3개월', 72, 1266000, true),

    -- 50분 수업 원단가 (25분 × 2배)
    (NULL, '주1회', '50분', '1개월', 4, 152000, true),
    (NULL, '주2회', '50분', '1개월', 8, 290000, true),
    (NULL, '주3회', '50분', '1개월', 12, 426000, true),
    (NULL, '주5회', '50분', '1개월', 20, 708000, true),
    (NULL, '주2회', '50분', '3개월', 24, 844000, true),
    (NULL, '주3회', '50분', '3개월', 36, 1218000, true),
    (NULL, '주5회', '50분', '3개월', 60, 2016000, true),

    -- 프리미엄 앤보임 과정 (주5회50분 + 토요50분)
    (NULL, '주6회', '50분', '1개월', 24, 932000, true),
    (NULL, '주6회', '50분', '3개월', 72, 2796000, true),

    -- 6개월, 12개월 추가 (주요 수강권만)
    -- 25분 주3회
    (NULL, '주3회', '25분', '6개월', 72, 1218000, true),
    (NULL, '주3회', '25분', '12개월', 144, 2436000, true),

    -- 50분 주3회
    (NULL, '주3회', '50분', '6개월', 72, 2436000, true),
    (NULL, '주3회', '50분', '12개월', 144, 4872000, true),

    -- 25분 주5회
    (NULL, '주5회', '25분', '6개월', 120, 2016000, true),
    (NULL, '주5회', '25분', '12개월', 240, 4032000, true),

    -- 50분 주5회
    (NULL, '주5회', '50분', '6개월', 120, 4032000, true),
    (NULL, '주5회', '50분', '12개월', 240, 8064000, true),

    -- 프리미엄 과정 장기
    (NULL, '주6회', '50분', '6개월', 144, 5592000, true),
    (NULL, '주6회', '50분', '12개월', 288, 11184000, true)

ON CONFLICT (planner_id, frequency, duration, payment_period, total_lessons) DO NOTHING;

-- 관리수강 기본 가격 (이미지 기반 데이터)
INSERT INTO public.pricing_templates
    (planner_id, frequency, duration, payment_period, total_lessons,
     base_price, managed_cash_price, managed_card_price,
     per_lesson_price, per_month_price, is_active)
VALUES
    -- 25분/주3회 관리 가격
    (NULL, '주3회', '25분', '3개월', 36, 609000, 844400, 929000, 23456, 281467, true),
    (NULL, '주3회', '25분', '6개월', 72, 1218000, 1568800, 1725680, 21789, 261467, true),
    (NULL, '주3회', '25분', '12개월', 144, 2436000, 3027600, 3330360, 21025, 252300, true),
    (NULL, '주3회', '25분', '24개월', 288, 4872000, 5355200, 5890720, 18594, 223133, true),

    -- 50분/주3회 관리 가격
    (NULL, '주3회', '50분', '3개월', 36, 1218000, 1526400, 1679040, 42400, 508800, true),
    (NULL, '주3회', '50분', '6개월', 72, 2436000, 2808800, 3089680, 39011, 468133, true),
    (NULL, '주3회', '50분', '12개월', 144, 4872000, 5507600, 6058360, 38247, 458967, true),
    (NULL, '주3회', '50분', '24개월', 288, 9744000, 10315200, 11346720, 35817, 429800, true),

    -- 25분/주5회 관리 가격
    (NULL, '주5회', '25분', '3개월', 60, 1008000, 1252300, 1377530, 20872, 417433, true),
    (NULL, '주5회', '25분', '6개월', 120, 2016000, 2384600, 2623060, 19871, 397433, true),
    (NULL, '주5회', '25분', '12개월', 240, 4032000, 4659200, 5125120, 19413, 388266, true),
    (NULL, '주5회', '25분', '24개월', 480, 8064000, 8618400, 9480240, 17955, 359100, true),

    -- 50분/주5회 관리 가격
    (NULL, '주5회', '50분', '3개월', 60, 2016000, 2407300, 2648030, 40122, 802433, true),
    (NULL, '주5회', '50분', '6개월', 120, 4032000, 4694600, 5164060, 39122, 782433, true),
    (NULL, '주5회', '50분', '12개월', 240, 8064000, 9279200, 10207120, 38663, 773267, true),
    (NULL, '주5회', '50분', '24개월', 480, 16128000, 17858400, 19644240, 37205, 744100, true)

ON CONFLICT (planner_id, frequency, duration, payment_period, total_lessons)
DO UPDATE SET
    managed_cash_price = EXCLUDED.managed_cash_price,
    managed_card_price = EXCLUDED.managed_card_price,
    per_lesson_price = EXCLUDED.per_lesson_price,
    per_month_price = EXCLUDED.per_month_price,
    updated_at = NOW();
